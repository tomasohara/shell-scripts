# Basic tests for Perl scripts
# todo: add automatic test for corresponding Python ones

# calc_entropy.perl with labelled input
# TODO2: change comment char to ';' to avoid BatsPP quirks
$ echo "green:0.5 eggs:0.25 with:0.125 spam:0.125" | tr ": " $'\t\n' | calc_entropy.perl -last -verbose - | grep -v '^$'
#		class	freq	prob	-p lg(p)
#		green	0	0.500	0.500
#		eggs	0	0.250	0.500
#		spam	0	0.125	0.375
#		with	0	0.125	0.375
#		total	1	1.000	1.750
# word	classes	freq	entropy	max_prob
-	4	1	1.750	0.500

#...............................................................................

# check_errors.perl

# Make sure check_errors.perl complains about missing file:
#   $ check_errors.perl /var/log
#   /var/log
$ file=/var/log
$ log=$TMP/check_errors.log
$ check_errors.perl $file 2>&1 | grep -v $file >| $log
$ [ "0" -lt "$(wc -l < $log)" ]; echo $?
